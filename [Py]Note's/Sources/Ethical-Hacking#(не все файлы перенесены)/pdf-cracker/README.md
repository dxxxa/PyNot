# [How to Crack PDF Files in Python](https://www.thepythoncode.com/article/crack-pdf-file-password-in-python)
To run this:
- `pip3 install -r requirements.txt`
- Use any `wordlist.txt` you want, and run `pdf_cracker.py`
##
# [[] / []]()
Предположим, что вы получили защищенный паролем PDF-файл, и доступ к нему является вашей главной задачей, но, к сожалению, вы пропустили пароль. Итак, на этом этапе вы будете искать максимальный способ, который может дать вам мгновенный результат. Из этого туториала Вы узнаете, как:

Перебор PDF-файлов с использованием библиотеки pikepdf на Python.
Извлеките хэш пароля PDF и взломайте его с помощью утилиты John the Ripper.
Взломайте PDF-пароль с помощью программы iSeePassword Dr.PDF.
Чтобы начать работу, установите необходимые зависимости:

pip3 install pikepdf tqdm
Связанные с: Создание 24 этических хакерских скриптов и инструментов с помощью Python EBook
Взлом пароля PDF с помощью pikepdf
pikepdf - это библиотека Python, которая позволяет нам создавать, манипулировать и восстанавливать PDF-файлы. Он предоставляет оболочку Pythonic вокруг библиотеки C++ QPDF.

Однако мы не будем использовать pikepdf для этого. Нам просто нужно будет открыть защищенный паролем PDF-файл; если это удастся, это означает, что это правильный пароль, и в противном случае возникнет исключение PasswordError:

import pikepdf
from tqdm import tqdm

# load password list
passwords = [ line.strip() for line in open("wordlist.txt") ]

# iterate over passwords
for password in tqdm(passwords, "Decrypting PDF"):
    try:
        # open PDF file
        with pikepdf.open("foo-protected.pdf", password=password) as pdf:
            # Password decrypted successfully, break out of the loop
            print("[+] Password found:", password)
            break
    except pikepdf._qpdf.PasswordError as e:
        # wrong password, just continue in the loop
        continue
Во-первых, мы загружаем список паролей из wordlist.txt файл в текущем каталоге, получить его здесь. Вы также можете использовать rockyou list или любые другие большие списки слов. Вы также можете использовать инструмент Crunch для создания собственного пользовательского списка слов.

Далее мы перебираем список и пытаемся открыть файл с каждым паролем, передавая аргумент пароля методу pikepdf.open(), это вызовет pikepdf._qpdf. ПарольError, если это неправильный пароль.

Мы использовали tqdm здесь только для того, чтобы напечатать прогресс о том, сколько слов осталось. Посмотрите мой результат:

Decrypting PDF:  43%|████████████████████████████████████████▏                                                   | 2137/5000 [00:06<00:08, 320.70it/s]
[+] Password found: abc123
Пароль был найден после 2137 испытаний, которые заняли около 6 секунд. Как вы можете видеть, это около 320 слов / с; посмотрим, как повысить этот показатель.

Получите: Создайте 24 этических хакерских скрипта и инструмента с помощью Python EBook
Взлом пароля PDF с помощью Джона Потрошителя
John the Ripper - это бесплатный и быстрый программный инструмент для взлома паролей, который доступен на многих платформах. Тем не менее, we будет использовать операционную систему Kali Linux здесь, так как она уже поставляется предустановленной.

Во-первых, нам понадобится способ извлечения хэша пароля из PDF-файла, чтобы он подходил для взлома в утилите john. К счастью для нас, есть скрипт Python pdf2john.py, который делает это. Давайте скачаем его:

Загрузка pdf2john.pyПоместите защищенный паролем PDF-файл в текущий каталог; mine называется foo-protected.pdf и выполните следующую команду:

root@rockikz:~/pdf-cracking# python3 pdf2john.py foo-protected.pdf | sed "s/::.*$//" | sed "s/^.*://" | sed -r 's/^.{2}//' | sed 's/.\{1\}$//' > hash
Это извлечет хэш пароля PDF в новый файл с именем hash, вот мой результат:

Извлечение хэша пароля PDF с помощью pdf2johnПосле того, как я сохранил хэш пароля в хэш-файл, я использовал команду cat, чтобы распечатать его на экране.

Наконец, мы используем этот хэш-файл для взлома пароля:

Пароль успешно взломан с помощью джона риппераМы просто используем команду "john [hashfile]". Как видите, пароль 012345 и был найден со скоростью 4503p/s.

Для получения дополнительной информации о взломе PDF-документов с помощью Linux обратитесь к этому руководству.

Связанные с: Как использовать алгоритмы хэширования в Python с помощью hashlib.

Взлом пароля PDF с помощью iSeePassword Dr.PDF
Не всем пользователям удобно кодировать на Python или использовать команды в Linux. Итак, если вы ищете эффективную программу для взлома паролей PDF в Windows, то iSeePassword Dr.PDF является одним из лучших вариантов.

Импорт PDF-файла

Этот взлом паролей PDF имеет простой для понимания пользовательский интерфейс, поэтому даже новички знают, как использовать эту программу. Кроме того, он предлагает три мощных алгоритма взлома паролей, включая Dictionary, Brute-force и Brute-force with Mask. Вы можете установить несколько типов параметров для повышения производительности.

Изображение найденного пароля

В настоящее время скорость взлома паролей составляет до 100K в секунду, что делает его одной из самых быстрых программ для взлома паролей PDF.

Заключение
Вот и все, наша работа выполнена, и мы успешно взломали пароль PDF, используя три метода: pikepdf, John The Ripper и iSeePassword Dr.PDF. Первый метод занимает много времени, чтобы взломать пароль, но довольно интуитивно понятен для программистов Python, тогда как другие методы являются окончательным методом получения пароля PDF-файла за короткий период времени. Убедитесь, что вы используете это для этического и собственного использования.